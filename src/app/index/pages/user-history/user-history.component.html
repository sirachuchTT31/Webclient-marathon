<div class="wrapper-dashboard-organization">
    <div class="header-list-all">
        <p>ประวัติการทำรายการ (History)</p>
        <hr>
    </div>
    <div class="row m-0 d-flex flex-row ">
        <div class="col-lg-3  history_box_left p-0">
            <p class="text-header-dashboard ">ประวัติการลงทะเบียน</p>
        </div>
        <div class="col-lg-9 col-md-12  history_box_right">
            <div class="d-flex justify-content-between">
                <div class="d-flex  flex-row w-100 gap-2 align-self-center">
                    <!-- <div class="dropdown">
                        <button class="btn btn-outline-dark" style="width: 120px;">View All</button>
                    </div> -->
                    <div class="dropdown">
                        <form [formGroup]="status_form">
                            <mat-form-field class="p-0 w-100">
                                <mat-label>เลือกสถานะ</mat-label>
                                <mat-select formControlName="status" (selectionChange)="filterReg()">
                                    <mat-option *ngFor="let rs of filter_status_list.results.data"
                                        [value]="rs.value"><span>{{rs.text}}</span></mat-option>
                                </mat-select>
                            </mat-form-field>
                        </form>
                    </div>
                </div>

            </div>

            <div class="wrap-table box_table_preview">
                <table class="fl-table mb-2 ">
                    <thead class="">
                        <tr>
                            <th scope="col" style="width: 50px;">ลำดับ</th>
                            <th scope="col" style="width: 450px;">ชื่องาน</th>
                            <th scope="col" style="width: 250px;">วันที่ลงทะเบียน</th>
                            <th scope="col" style="width: 250px;">สถานะ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let item of this.filter_reg| paginate: { itemsPerPage: config_pagin.pageSize, currentPage: config_pagin.currentPage }let i = index;">
                            <td>{{countIndex(config_pagin.pageSize,config_pagin.currentPage,i+1)}}</td>
                            <td class=""><img [src]="item.reg_event_path_img"
                                    style="width: 150px; object-fit: cover; padding-right: 5px;">{{item.reg_event_name}}
                            </td>
                            <td>{{item.createdAt | date:'dd-MM-yyyy'}}</td>
                            <td>
                                <ng-container *ngIf="item.reg_member_status == 11">
                                    <span>รอการอนุมัติ (Waiting for approver)</span>
                                </ng-container>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-center " *ngIf="filter_reg?.length == 0">
                    <h2 class="text-dark">ไม่พบข้อมูล (Data not found)</h2>
                </div>
                <pagination-controls (pageChange)="changePage($event)"></pagination-controls>
            </div>
        </div>
    </div>
</div>